<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Pass Keep - Iniciar sesión o Registrarse</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    body {
      background-color: #121212;
      color: white;
      overflow: hidden;
    }

    .matrix-effect {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 0;
    }

    .matrix-line {
      position: absolute;
      width: 2px;
      background-color: #00ff00;
      height: 100px;
      animation: fall linear infinite;
    }

    @keyframes fall {
      0% { top: -100px; }
      100% { top: 110%; }
    }

    .card {
      background-color: #1f1f1f;
      border-radius: 1rem;
      box-shadow: 0 0 20px rgba(23, 162, 184, 0.5);
      z-index: 1;
    }

    .form-control {
      background-color: #2c2c2c;
      border: 1px solid #00ff00;
      color: white;
    }
    .form-control:focus {
  border-color: #00ff00;
  box-shadow: 0 0 10px #00ff00;
  background-color: #2c2c2c;
  color: white;
}


    .btn-custom {
      background-color: #17a2b8;
      border: none;
    }

    .btn-custom:hover {
      background-color: #138496;
    }

    .fade-section {
      transition: opacity 0.5s ease, transform 0.5s ease;
    }

    .hidden {
      opacity: 0;
      pointer-events: none;
      transform: translateY(20px);
      position: absolute;
      width: 100%;
    }

    .visible {
      opacity: 1;
      pointer-events: auto;
      transform: translateY(0);
      position: relative;
      width: 100%;
    }
  </style>
</head>

<body>

<!-- Efecto Matrix -->
<div class="matrix-effect" id="matrixEffect"></div>

<section class="vh-100 d-flex align-items-center">
  <div class="container py-5 h-100">
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col col-xl-10">
        <div class="card">
          <div class="row g-0">
            <!-- Imagen Lateral -->
            <div class="col-md-6 d-none d-md-block">
              <img src="https://plus.unsplash.com/premium_photo-1676618539992-21c7d3b6df0f?q=80&w=1332&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
                alt="Login form" class="img-fluid rounded-start w-100 h-100" style="object-fit: cover; border-radius: 1rem 0 0 1rem;" />
            </div>

            <!-- Formulario dinámico -->
            <div class="col-md-6 d-flex align-items-center">
              <div class="card-body p-4 p-lg-5 text-white">

                <!-- LOGIN -->
                <form id="loginForm" action="api/login.php" method="POST" class="fade-section visible">
                  <div class="d-flex align-items-center mb-3 pb-1">
                    <img src="media/database-lock.svg" alt="Logo" width="30" height="30" class="me-2" />
                    <span class="h1 fw-bold mb-0">Pass Keep</span>
                  </div>

                  <h5 class="fw-normal mb-3 pb-3">Iniciar sesión</h5>

                  <div class="form-outline mb-4">
                    <input type="text" name="usuario" class="form-control form-control-lg" required>
                    <label class="form-label mt-2">Usuario</label>
                  </div>

                  <div class="form-outline mb-4">
                    <input type="password" name="contrasena" class="form-control form-control-lg" required>
                    <label class="form-label mt-2">Contraseña</label>
                  </div>

                  <div class="pt-1 mb-4">
                    <button class="btn btn-custom btn-lg btn-block w-100" type="submit">Entrar</button>
                  </div>

                  <p class="mb-2">¿No tienes cuenta? <a href="#" class="text-info" id="showRegister">Crear una cuenta</a></p>
                </form>

                <!-- REGISTER -->
                <form id="registerForm" action="api/register.php" method="POST" class="fade-section hidden">
                  <div class="d-flex align-items-center mb-3 pb-1">
                    <img src="media/database-lock.svg" alt="Logo" width="30" height="30" class="me-2" />
                    <span class="h1 fw-bold mb-0">Pass Keep</span>
                  </div>

                  <h5 class="fw-normal mb-3 pb-3">Crear cuenta nueva</h5>

                  <div class="form-outline mb-4">
                    <input type="text" name="usuario" class="form-control form-control-lg" required>
                    <label class="form-label mt-2">Usuario</label>
                  </div>

                  <div class="form-outline mb-4">
                    <input type="password" id="password" name="contrasena" class="form-control form-control-lg" required>
                    <label class="form-label mt-2">Contraseña</label>
                  </div>

                  <div class="form-outline mb-4">
                    <input type="password" id="confirmPassword" class="form-control form-control-lg" required>
                    <label class="form-label mt-2">Confirmar contraseña</label>
                  </div>

                  <div class="pt-1 mb-4">
                    <button class="btn btn-custom btn-lg btn-block w-100" type="submit">Registrar</button>
                  </div>

                  <p class="mb-2">¿Ya tienes cuenta? <a href="#" class="text-info" id="showLogin">Iniciar sesión</a></p>
                </form>

              </div>
            </div>

          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Bootstrap 5 JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<!-- Matrix effect -->
<script>
document.addEventListener("DOMContentLoaded", () => {
  const container = document.getElementById("matrixEffect");
  const lines = 50;

  for (let i = 0; i < lines; i++) {
    const line = document.createElement("div");
    line.classList.add("matrix-line");
    line.style.left = `${Math.random() * 100}%`;
    line.style.animationDelay = `${Math.random() * 3}s`;
    line.style.animationDuration = `${2 + Math.random() * 3}s`;
    container.appendChild(line);
  }

  // Alternar entre login y register
  const showRegister = document.getElementById('showRegister');
  const showLogin = document.getElementById('showLogin');
  const loginForm = document.getElementById('loginForm');
  const registerForm = document.getElementById('registerForm');

  showRegister.addEventListener('click', (e) => {
    e.preventDefault();
    loginForm.classList.remove('visible');
    loginForm.classList.add('hidden');
    registerForm.classList.remove('hidden');
    registerForm.classList.add('visible');
  });

  showLogin.addEventListener('click', (e) => {
    e.preventDefault();
    registerForm.classList.remove('visible');
    registerForm.classList.add('hidden');
    loginForm.classList.remove('hidden');
    loginForm.classList.add('visible');
  });

  // Validar confirmación de contraseña
  registerForm.addEventListener('submit', function(e) {
    const password = document.getElementById('password').value;
    const confirm = document.getElementById('confirmPassword').value;
    if (password !== confirm) {
      e.preventDefault();
      alert('Las contraseñas no coinciden.');
    }
  });
});
</script>

</body>
</html>
